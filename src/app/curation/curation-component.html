<div *ngIf="this.curation.error=='No file sent'" class="alert alert-warning
    text-center" role="alert">
    <span class="font-weight-bolder">WARNING: </span>Curation created but not
    executed. No information to show.
</div>
<div class="title">
    <h5>{{this.curationName}}</h5>
</div>
<div class="container" *ngIf="this.curation.error!='No file sent'">

    <div id="plotpie">
        <plotly-plot
            [data]="plotPie.data"
            [layout]="plotPie.layout"
            [config]="plotPie.config">
        </plotly-plot>
    </div>

    <div id="plotbar">
        <plotly-plot
            [data]="plotSummary.data"
            [layout]="plotSummary.layout"
            [config]="plotSummary.config">
        </plotly-plot>
    </div>
    <!-- <div class="row">
        <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
            <li class="nav-item">
              <a class="nav-link active" id="pills-all-tab" data-toggle="tab" href="#pills-all" role="tab" aria-controls="pills-home" aria-selected="true">List</a>
            </li>
        </ul>
    </div> -->
    
    <div class="row" id="curationTable" *ngIf="this.curation.head != undefined">
        <div class="col-sm-12">
            <table id="curation" class="table table table-sm">
                <thead>
                  <tr>
                    <th style="width: 5%" data-toggle="tooltip" data-placement="top" data-html="true" title="Mol index">#</th>
                    <th style="width: 20%" data-toggle="tooltip" data-placement="top" data-html="true" title="Name of the molecule, as present in the input file">Name</th>
                    <th class="align-middle text-center" data-toggle="tooltip" data-placement="top" data-html="true" title="Structure of the curated SMILES">Mol</th>
                    <!--<th class="align-middle text-center" *ngIf="this.predictionResult.ymatrix">Value</th>-->
                    <th class="align-middle text-center"  
                      data-toggle="tooltip" data-placement="top" data-html="true" title="CAS">
                      CAS 
                    </th>
                  </tr>
                </thead>
                
                <tbody>
                    <tr *ngFor="let res of objectKeys(this.curation.head); let i=index">
                      <td class="align-middle">{{i+1}}</td>
                      <td class="align-middle">{{this.curation.head['substance_name'][i]}}</td>
                      <td class="align-middle text-center">
                        <canvas #cmp id="{{'one_canvas'+i}}">{{this.curation.head['structure_curated'][i]}}</canvas>
                      </td>
                     <td class="align-middle text-center" *ngIf="this.curation.head['CAS']">
                       <span class="concentration_text">{{this.curation.head['CAS'][i]}}</span>
                     </td>
                      <!-- <td class="align-middle text-center" *ngIf="this.predictionResult.values">
                        <span class="prediction_text">{{castValue(this.predictionResult.values[i])}}</span>
                      </td>
                      <td class="align-middle text-center" *ngIf="this.predictionResult.upper_limit">
                        {{this.predictionResult.lower_limit[i].toFixed(3)}} to {{this.predictionResult.upper_limit[i].toFixed(3)}}
                      </td> -->
                      </tr>
                  </tbody>
                </table>
        </div>
        
    </div>
    <!--<div class="accordion mt-3" id="curatingAccordion">
        <!--START INPUT FILE-->

            <!--<div class="card">
                 <div class="card-header" id="headingCurDoc"
                    data-toggle="collapse"
                    data-target="#collapseCurDoc" aria-expanded="true"
                    aria-controls="collapseCurDoc">
                    <h5 class="mb-0">
                        Curation Documentation ({{this.curationName}})
                        <button class="btn btn-link pt-0 pb-0 float-right"
                            type="button"></button>
                    </h5>
                </div> -->
                
                <!-- <div id="collapseCurDoc" class="collapse"
                    aria-labelledby="collapseCurDoc"
                    data-parent="#curatingAccordion">
                    <div class="card-body p-2 pl-5 pr-5">
                        <div class="row">
                        <table class="tableCurated">
                            <div *ngFor="let header of
                                objectKeys(this.curation.head)">
                                <thead>
                                    <th>{{header}}</th>
                                </thead>
                                <tbody>
                                    <div *ngFor="let value of
                                        this.curation.head[header]">
                                        <tr>
                                            <td>{{value}}</td>
                                        </tr>
                                    </div>

                                </tbody>
                            </div>
                        </table>
                    </div>
                    </div>
                </div>
            </div>
        </div>
    </div> -->
