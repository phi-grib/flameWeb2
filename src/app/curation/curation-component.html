<div *ngIf="this.curation.error=='No file sent'" class="alert alert-warning
    text-center" role="alert">
    <span class="font-weight-bolder">WARNING: </span>Curation created but not
    executed. No information to show.
</div>
<div class="title">
    <h5>{{this.curationName}}</h5>
</div>
<div class="container" *ngIf="this.curation.error!='No file sent'">

    <div id="plotpie">
        <plotly-plot
            [data]="plotPie.data"
            [layout]="plotPie.layout"
            [config]="plotPie.config">
        </plotly-plot>
    </div>

    <div id="plotbar">
        <plotly-plot
            [data]="plotSummary.data"
            [layout]="plotSummary.layout"
            [config]="plotSummary.config">
        </plotly-plot>
    </div>

<button type="submit" (click)="importFile()">Download</button>

    <div class="row" id="curationTable" *ngIf="this.curation.head != undefined">

        <div class="col-sm-12">
            <table id="curation" class="table table table-sm" *ngIf="this.curation.head!=undefined">
                    <thead>
                        <tr style="line-height: 90px;">
                            <th>Name</th>                         
                            <th>Structure curated</th>                         
                            <th>CAS</th>                         
                            <th>Substance type</th>                         
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let res of this.curation.head.CAS;let i= index">
                            <td class="align-middle">{{this.curation.head['substance_name'][i]}}</td>
                            <td class="align-middle"><canvas #sml [attr.id]="'this_canvas' + i">{{this.curation.head['structure_curated'][i]}}</canvas></td>
                            <td class="align-middle">{{this.curation.head['CAS'][i]}}</td>
                            <td class="align-middle">{{this.curation.head['substance_type_name'][i]}}</td>
                        </tr>
                    </tbody>
            </table>
        </div>
    </div>
    <!--<div class="accordion mt-3" id="curatingAccordion">
       START INPUT FILE-->
    <!--<div class="card">
                 <div class="card-header" id="headingCurDoc"
                    data-toggle="collapse"
                    data-target="#collapseCurDoc" aria-expanded="true"
                    aria-controls="collapseCurDoc">
                    <h5 class="mb-0">
                        Curation Documentation ({{this.curationName}})
                        <button class="btn btn-link pt-0 pb-0 float-right"
                            type="button"></button>
                    </h5>
                </div> -->
    <!-- <div id="collapseCurDoc" class="collapse"
                    aria-labelledby="collapseCurDoc"
                    data-parent="#curatingAccordion">
                    <div class="card-body p-2 pl-5 pr-5">
                        <div class="row">
                        <table class="tableCurated">
                            <div *ngFor="let header of
                                objectKeys(this.curation.head)">
                                <thead>ERROR TypeError: c[k] is 
                                    <div *ngFor="let value of
                                        this.curation.head[header]">
                                        <tr>
                                            <td>{{value}}</td>
                                        </tr>
                                    </div>

                                </tbody>
                            </div>
                        </table>
                    </div>
                    </div>
                </div>
            </div>
        </div>
    </div> -->
