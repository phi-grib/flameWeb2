<hr class="my-0">

<app-manage-predictions></app-manage-predictions>

<div class ="text-center spinner-table" *ngIf = "!this.globals.tablePredictionVisible">
  <div class="spinner-border text-primary"  style="width: 10rem; height: 10rem;"  role="status">
    <span class="sr-only">Loading...</span>
  </div>
</div>

<div class="ml-3 mr-3" [hidden] = "!this.globals.tablePredictionVisible">
  <div class="col-12 scrolltable" >
    <table class="table" id="dataTablePredictions">
      <thead>
        <tr>
          <th style="width: 40%">Name</th>
          <th style="width: 5%">Models</th>
          <th style="width: 5%">Version</th>
          <th style="width: 20%">Prediction Set</th>
          <th style="width: 30%" >Date</th>
        </tr>
      </thead>
      <tbody>
          <tr class="blink" *ngFor="let key of objectKeys(this.prediction.predicting)">
              <td >{{key}}</td>
              <td>{{this.prediction.predicting[key][0]}}</td>
              <td>{{this.prediction.predicting[key][1]}}</td>
              <td>{{this.prediction.predicting[key][2].substring(this.prediction.predicting[key][2].lastIndexOf('/') + 1)}}</td>
              <td>-</td>         
            </tr>
        <tr *ngFor="let info of this.prediction.predictions" (click)= "selectPrediction(info[0], info[1], info[2], info[3])"
        [ngClass]="{'selected': this.prediction.name=== info[0]}">
          <td class="text-truncate iffyTip hideText">{{info[0]}}</td>
          <td>{{info[1]}}</td>
          <td>{{info[2]}}</td>
          <td class="text-truncate iffyTip hideText">{{info[4].substring(info[4].lastIndexOf('/') + 1)}}</td>
          <td class="text-truncate iffyTip hideText">{{info[3]}}</td>         
        </tr>
      </tbody>
    </table>
  </div>
</div>