<div class="row mt-3">

    <div class="card w-100">

        <!--NAVS tables-->
        <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
            <li class="nav-item">
              <a class="nav-link active" id="pills-all-tab" data-toggle="tab" href="#pills-all" role="tab" aria-controls="pills-all" aria-selected="true"><h4>Prediction</h4></a>
            </li>
            <li class="nav-item">
              <a class="nav-link disabled" id="pills-one-tab" data-toggle="tab" href="#pills-one" role="tab" aria-controls="pills-one" aria-selected="false"><h4>Fitting</h4></a>
            </li>
        </ul>

        <div class="tab-content" id="pills-tabContent">
            <!--PREDICTION TAB-->
            <div class="tab-pane fade show active" id="pills-all" role="tabpanel" aria-labelledby="pills-all-tab">
                <div class="card-body">
                    <div id="container">
                        <div class="col-3 mt-1" *ngIf="objectKeys(this.modelValidationInfo).length > 0">
                            <table class="table table-sm mt-4">
                                <tbody>
                                    <tr>
                                        <td class="text-left text-capitalize" data-toggle="tooltip" data-placement="left" title="{{modelValidationInfo['Sensitivity'][0]}}"><strong>Sensitivity:</strong></td>
                                        <td class="text-right text-capitalize">{{modelValidationInfo['Sensitivity'][1]}}</td>
                                    </tr>
                                    <tr>
                                        <td class="text-left text-capitalize" data-toggle="tooltip" data-placement="left" title="{{modelValidationInfo['Specificity'][0]}}"><strong>Specificity:</strong></td>
                                        <td class="text-right text-capitalize">{{modelValidationInfo['Specificity'][1]}}</td>
                                    </tr>
                                    <tr>
                                        <td class="text-left text-capitalize" data-toggle="tooltip" data-placement="left" title="{{modelValidationInfo['MCC'][0]}}"><strong>MCC:</strong></td>
                                        <td class="text-right text-capitalize">{{modelValidationInfo['MCC'][1]}}</td>
                                    </tr>
                                    <tr>
                                        <td class="text-left text-capitalize" data-toggle="tooltip" data-placement="left" title="{{modelValidationInfo['Conformal_coverage'][0]}}"><strong>Conformal coverage:</strong></td>
                                        <td class="text-right text-capitalize">{{modelValidationInfo['Conformal_coverage'][1]}}</td>
                                    </tr>
                                    <tr>
                                        <td class="text-left text-capitalize" data-toggle="tooltip" data-placement="left" title="{{modelValidationInfo['Conformal_accuracy'][0]}}"><strong>Conformal accuracy:</strong></td>
                                        <td class="text-right text-capitalize">{{modelValidationInfo['Conformal_accuracy'][1]}}</td>
                                    </tr>
                                </tbody>
                            </table>    
                        </div>
                        <div class="col-4" *ngIf="objectKeys(this.modelValidationInfo).length > 0">
                            <!--CONFUSION MATRIX-->
                            <app-confusion-matrix  
                                [TP] = "this.modelValidationInfo['TP'][1]"
                                [FP] = "this.modelValidationInfo['FP'][1]"
                                [FN] = "this.modelValidationInfo['FN'][1]"
                                [TN] = "this.modelValidationInfo['TN'][1]"
                            > </app-confusion-matrix>
                        </div>
                        <div class="col-4">
                                <div style="display: block">
                                <canvas baseChart
                                        [data]="polarAreaChartData"
                                        [options]="polarChartOptions"
                                        [labels]="polarAreaChartLabels"
                                        [legend]="polarAreaLegend"
                                        [colors]="polarAreaChartColors"
                                        [chartType]="polarAreaChartType">
                                </canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--PREDICTION TAB END-->

            <!--FITTING-->
            <div class="tab-pane fade" id="pills-one" role="tabpanel" aria-labelledby="pills-one-tab" >
                <div class="card-body">
                    <div id="container">
                        <!-- <div class="col-2 mt-1" *ngIf="objectKeys(this.modelValidationInfo).length > 0">
                            <table class="table table-sm mt-4">
                                <tbody>
                                    <tr>
                                        <td class="text-left text-capitalize" data-toggle="tooltip" data-placement="left" title="{{modelValidationInfo['Sensitivity'][0]}}"><strong>Sensitivity:</strong></td>
                                        <td class="text-right text-capitalize">{{modelValidationInfo['Sensitivity'][1]}}</td>
                                    </tr>
                                    <tr>
                                        <td class="text-left text-capitalize" data-toggle="tooltip" data-placement="left" title="{{modelValidationInfo['Specificity'][0]}}"><strong>Specificity:</strong></td>
                                        <td class="text-right text-capitalize">{{modelValidationInfo['Specificity'][1]}}</td>
                                    </tr>
                                    <tr>
                                        <td class="text-left text-capitalize" data-toggle="tooltip" data-placement="left" title="{{modelValidationInfo['MCC'][0]}}"><strong>MCC:</strong></td>
                                        <td class="text-right text-capitalize">{{modelValidationInfo['MCC'][1]}}</td>
                                    </tr>
                                    <tr>
                                        <td class="text-left text-capitalize" data-toggle="tooltip" data-placement="left" title="{{modelValidationInfo['Conformal_coverage'][0]}}"><strong>Conformal coverage:</strong></td>
                                        <td class="text-right text-capitalize">{{modelValidationInfo['Conformal_coverage'][1]}}</td>
                                    </tr>
                                    <tr>
                                        <td class="text-left text-capitalize" data-toggle="tooltip" data-placement="left" title="{{modelValidationInfo['Conformal_accuracy'][0]}}"><strong>Conformal accuracy:</strong></td>
                                        <td class="text-right text-capitalize">{{modelValidationInfo['Conformal_accuracy'][1]}}</td>
                                    </tr>
                                </tbody>
                            </table>    
                        </div> -->
                        <!-- <div class="col-5" *ngIf="objectKeys(this.modelValidationInfo).length > 0">
                            <app-confusion-matrix  
                                [TP] = "this.modelValidationInfo['TP'][1]"
                                [FP] = "this.modelValidationInfo['FP'][1]"
                                [FN] = "this.modelValidationInfo['FN'][1]"
                                [TN] = "this.modelValidationInfo['TN'][1]"
                            > </app-confusion-matrix>
                        </div> -->
                        <!-- <div class="col-5">
                                <div style="display: block">
                                <canvas baseChart
                                        [data]="polarAreaChartData"
                                        [options]="polarChartOptions"
                                        [labels]="polarAreaChartLabels"
                                        [legend]="polarAreaLegend"
                                        [colors]="polarAreaChartColors"
                                        [chartType]="polarAreaChartType">
                                </canvas>
                            </div>
                        </div> -->
                    </div>
                </div>
            </div>
            <!--FITTING TAB END-->
        </div>
        <!--NAVS tables end-->

    </div>

</div>



<div class="row mt-3" *ngIf="this.modelDocumentation !== undefined">
    <div class="card w-100" style="width: 18rem;">
        <!--<div class="card-header"><h5>Prediction (cross-validation)</h5></div>-->
        <div class="card-body">
            <div class="row ml-2">
                <small class="h2 text-muted"><u>Documentation</u></small>
            </div>
            <br>
            <div class="row">
                <table class="table table-striped documentation">
                    <tbody>
                        <tr *ngFor="let key of this.orderDocumentation">
                            <td>{{key}}</td>
                            <ng-container *ngIf="this.objectKeys(this.modelDocumentation).includes(key)">
                                <td *ngIf="this.modelDocumentation[key].value && !isObject(this.modelDocumentation[key].value)">{{this.modelDocumentation[key].value}}</td>
                                <td *ngIf="this.modelDocumentation[key].value && isObject(this.modelDocumentation[key].value)">   
                                    <div class="accordion" id="accordionExample">
                                        <div>        
                                            <button class="btn btn-link" type="button" data-toggle="collapse" [attr.data-target]="'#' + key" aria-expanded="false" >
                                             INFO
                                            </button>
                                            <div id="{{key}}" class="collapse" aria-labelledby="headingOne" data-parent="#accordionExample">
                                                <div class="card-body">
                                                    <table class="table table-striped">
                                                        <tbody>
                                                            <tr *ngFor="let key2 of this.objectKeys(this.modelDocumentation[key].value)">
                                                                <td>{{key2}}</td>
                                                                <td *ngIf="isObject(this.modelDocumentation[key].value[key2])">{{this.modelDocumentation[key].value[key2].value}}</td>
                                                                <td *ngIf="!isObject(this.modelDocumentation[key].value[key2])">{{this.modelDocumentation[key].value[key2]}}</td>
                                                                <td class="text-right font-italic" *ngIf="isObject(this.modelDocumentation[key].value[key2])">{{this.modelDocumentation[key].value[key2].description}}</td>
                                                            </tr>
                                                        </tbody>
                                                    </table> 
                                                </div>
                                            </div>
                                        </div>
                                        
                                    </div>
                                </td>
                                <td *ngIf="!this.modelDocumentation[key].value">-</td>
                                <td class="text-right font-italic" >{{this.modelDocumentation[key].description}}</td>
                            </ng-container>
                            <ng-container *ngIf="!this.objectKeys(this.modelDocumentation).includes(key)">
                                <td>NO INFO</td>
                                <td class="text-right font-italic">NO INFO</td>
                           </ng-container>
                        </tr>
                    </tbody>
                </table> 
            </div>
        </div>
    </div>
</div> 